ack -a -f -G '\.(h|hh|cxx|cc|icc|C)$' | xargs perl -wapi\~ -e 'if (m&^(\s*#\s*include\s*[<"])(G4[^/]+)[>"]&) { my $package; foreach my $try qw(G4Base g4nova) { if (-f "$ENV{SRT_PUBLIC_CONTEXT}/include/${try}/${2}") { $package = $try; last; } } $package = "Geant4" unless $package; s&^(\s*#\s*include\s*)["<](G4[^/]+)[">]&${1}"$package/${2}"&; } s&^(\s*#\s*include\s*)["<]((?:Shielding|globals|CHIPS|FTF_BIC|QBBC|QGSP_INCL_ABLA|QGSC_BERT|QGSP|QGSP_BERT_CHIPS|QGSP_FTFP_BERT|(?:QGS_BIC|QGSP_BIC|QGSP_BERT|FTFP_BERT|LHEP)(?:_EMY|_NOLEP|_HP|_EM[VX]|_TRV)?|LBE)\.hh)[">]&${1}"Geant4/${2}"&;'
